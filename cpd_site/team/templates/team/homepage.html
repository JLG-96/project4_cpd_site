{% extends "team/base.html" %}

{% block content %}

    <header>
        <h1>Welcome to CPD Yr Wyddgrug Official Site</h1>
    </header>

    <!-- Upcoming Fixture Section -->
    <section>
        <h2>Upcoming Fixture</h2>
        {% if upcoming_fixture %}
            <p>
                {{ upcoming_fixture.opponent }} 
                {% if upcoming_fixture.home_or_away == "H" %} (Home) {% else %} (Away) {% endif %}
            </p>
            <p>Date: {{ upcoming_fixture.date }} | Time: {{ upcoming_fixture.time }}</p>
            <p>Location: {{ upcoming_fixture.location }}</p>
        {% else %}
            <p>No upcoming fixtures.</p>
        {% endif %}
    </section>

    <!-- Latest Result Section -->
    <section>
        <h2>Latest Result</h2>
        {% if latest_result %}
            <p>
                {{ latest_result.opponent }} 
                {% if latest_result.home_or_away == "H" %} (Home) {% else %} (Away) {% endif %}
            </p>
            <p>Date: {{ latest_result.date }}</p>
            <p>Final Score: {{ latest_result.goals_for }} - {{ latest_result.goals_against }}</p>
        {% else %}
            <p>No past results available.</p>
        {% endif %}
    </section>

    <!-- League Table Section -->
    <section>
        <h2>League Table</h2>
        <table border="1">
            <tr>
                <th>Position</th>
                <th>Team</th>
                <th>Points</th>
            </tr>
            {% for team in league_table %}
            <tr>
                <td>{{ team.position }}</td>
                <td>{{ team.team }}</td>
                <td>{{ team.points }}</td>
            </tr>
            {% endfor %}
        </table>
    </section>

    <!-- Manager's Comment Section -->
    <section>
        <h2>Manager's Comment</h2>
        <p>{{ managers_comment }}</p>
    </section>

{% endblock %}
